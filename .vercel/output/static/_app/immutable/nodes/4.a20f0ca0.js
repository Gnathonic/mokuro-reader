import{s as K,G as F,J as Ve,y as R,H as J,p as we,a as G,e as z,c as q,i as v,P as ye,d as _,I as g,x as Ie,f as E,g as M,h as j,j as m,C as Ue,D as We,E as De,M as Q,N as Y,A,O as $,B as y,L as I,F as ce,R as H,l as te,m as le,T as ne,n as Ce,U as oe,Q as fe,V as Be}from"../chunks/scheduler.d583122a.js";import{S as X,i as x,b as U,d as W,m as D,a as L,t as w,e as B,f as je,g as Z,c as T}from"../chunks/index.6f9a916b.js";import{L as Oe,a as Pe,e as ae,u as ze,o as Se}from"../chunks/Listgroup.551cc333.js";import{v as Ee,p as Me,m as Ne,a as Re,c as Ze,u as ie,B as _e}from"../chunks/misc.aef7f343.js";import{g as ue,a as Te,t as ee,i as He}from"../chunks/db.1a03e27e.js";import{W as Ge,I as qe}from"../chunks/Input.cf29985b.js";import{L as Fe}from"../chunks/Loader.dfc94093.js";function Je(i){let e,t,l;return{c(){e=Q("svg"),t=Q("path"),this.h()},l(s){e=Y(s,"svg",{slot:!0,class:!0,fill:!0,viewBox:!0,xmlns:!0});var n=j(e);t=Y(n,"path",{"fill-rule":!0,d:!0,"clip-rule":!0}),j(t).forEach(_),n.forEach(_),this.h()},h(){m(t,"fill-rule","evenodd"),m(t,"d","M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z"),m(t,"clip-rule","evenodd"),m(e,"slot","left"),m(e,"class",l=i[3][i[1]]),m(e,"fill","currentColor"),m(e,"viewBox","0 0 20 20"),m(e,"xmlns","http://www.w3.org/2000/svg")},m(s,n){v(s,e,n),A(e,t)},p(s,n){n&2&&l!==(l=s[3][s[1]])&&m(e,"class",l)},d(s){s&&_(e)}}}function he(i){let e,t;const l=i[7].default,s=Ie(l,i,i[21],null);return{c(){e=E("div"),s&&s.c(),this.h()},l(n){e=M(n,"DIV",{class:!0});var u=j(e);s&&s.l(u),u.forEach(_),this.h()},h(){m(e,"class","flex absolute inset-y-0 right-0 items-center text-gray-500 dark:text-gray-400")},m(n,u){v(n,e,u),s&&s.m(e,null),t=!0},p(n,u){s&&s.p&&(!t||u&2097152)&&Ue(s,l,n,n[21],t?De(l,n[21],u,null):We(n[21]),null)},i(n){t||(L(s,n),t=!0)},o(n){w(s,n),t=!1},d(n){n&&_(e),s&&s.d(n)}}}function Qe(i){let e,t,l,s,n;const u=[{type:"search"},{placeholder:i[2]},{size:i[1]},i[5],{class:i[6].class}];function a(c){i[8](c)}let r={$$slots:{left:[Je]},$$scope:{ctx:i}};for(let c=0;c<u.length;c+=1)r=R(r,u[c]);i[0]!==void 0&&(r.value=i[0]),e=new qe({props:r}),we.push(()=>je(e,"value",a)),e.$on("blur",i[9]),e.$on("change",i[10]),e.$on("input",i[11]),e.$on("click",i[12]),e.$on("focus",i[13]),e.$on("keydown",i[14]),e.$on("keypress",i[15]),e.$on("keyup",i[16]),e.$on("mouseenter",i[17]),e.$on("mouseleave",i[18]),e.$on("mouseover",i[19]),e.$on("paste",i[20]);let o=i[4].default&&he(i);return{c(){U(e.$$.fragment),l=G(),o&&o.c(),s=z()},l(c){W(e.$$.fragment,c),l=q(c),o&&o.l(c),s=z()},m(c,d){D(e,c,d),v(c,l,d),o&&o.m(c,d),v(c,s,d),n=!0},p(c,d){const p=d&102?ue(u,[u[0],d&4&&{placeholder:c[2]},d&2&&{size:c[1]},d&32&&Te(c[5]),d&64&&{class:c[6].class}]):{};d&2097154&&(p.$$scope={dirty:d,ctx:c}),!t&&d&1&&(t=!0,p.value=c[0],ye(()=>t=!1)),e.$set(p),c[4].default?o?(o.p(c,d),d&16&&L(o,1)):(o=he(c),o.c(),L(o,1),o.m(s.parentNode,s)):o&&(Z(),w(o,1,1,()=>{o=null}),T())},i(c){n||(L(e.$$.fragment,c),L(o),n=!0)},o(c){w(e.$$.fragment,c),w(o),n=!1},d(c){c&&(_(l),_(s)),B(e,c),o&&o.d(c)}}}function Ye(i){let e,t;return e=new Ge({props:{class:"relative w-full",show:i[4].default,$$slots:{default:[Qe]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){D(e,l,s),t=!0},p(l,[s]){const n={};s&16&&(n.show=l[4].default),s&2097271&&(n.$$scope={dirty:s,ctx:l}),e.$set(n)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function Ke(i,e,t){const l=["size","placeholder","value"];let s=F(e,l),{$$slots:n={},$$scope:u}=e;const a=Ve(n);let{size:r="lg"}=e,{placeholder:o="Search"}=e,{value:c=void 0}=e;const d={sm:"w-3.5 h-3.5",md:"w-5 h-5",lg:"w-6 h-6"};function p(b){c=b,t(0,c)}function V(b){g.call(this,i,b)}function O(b){g.call(this,i,b)}function P(b){g.call(this,i,b)}function S(b){g.call(this,i,b)}function N(b){g.call(this,i,b)}function k(b){g.call(this,i,b)}function C(b){g.call(this,i,b)}function h(b){g.call(this,i,b)}function f(b){g.call(this,i,b)}function se(b){g.call(this,i,b)}function re(b){g.call(this,i,b)}function Ae(b){g.call(this,i,b)}return i.$$set=b=>{t(6,e=R(R({},e),J(b))),t(5,s=F(e,l)),"size"in b&&t(1,r=b.size),"placeholder"in b&&t(2,o=b.placeholder),"value"in b&&t(0,c=b.value),"$$scope"in b&&t(21,u=b.$$scope)},e=J(e),[c,r,o,d,a,s,e,n,p,V,O,P,S,N,k,C,h,f,se,re,Ae,u]}class Xe extends X{constructor(e){super(),x(this,e,Ke,Ye,K,{size:1,placeholder:2,value:0})}}function xe(i){let e,t,l,s,n,u=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},i[7],{class:l=ee("shrink-0",i[6][i[0]],i[8].class)},{role:i[1]},{"aria-label":i[5]},{viewBox:"0 0 18 18"}],a={};for(let r=0;r<u.length;r+=1)a=R(a,u[r]);return{c(){e=Q("svg"),t=Q("path"),this.h()},l(r){e=Y(r,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var o=j(e);t=Y(o,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),j(t).forEach(_),o.forEach(_),this.h()},h(){m(t,"stroke","currentColor"),m(t,"stroke-linecap",i[2]),m(t,"stroke-linejoin",i[3]),m(t,"stroke-width",i[4]),m(t,"d","M6.143 1H1.857A.857.857 0 0 0 1 1.857v4.286c0 .473.384.857.857.857h4.286A.857.857 0 0 0 7 6.143V1.857A.857.857 0 0 0 6.143 1Zm10 0h-4.286a.857.857 0 0 0-.857.857v4.286c0 .473.384.857.857.857h4.286A.857.857 0 0 0 17 6.143V1.857A.857.857 0 0 0 16.143 1Zm-10 10H1.857a.857.857 0 0 0-.857.857v4.286c0 .473.384.857.857.857h4.286A.857.857 0 0 0 7 16.143v-4.286A.857.857 0 0 0 6.143 11Zm10 0h-4.286a.857.857 0 0 0-.857.857v4.286c0 .473.384.857.857.857h4.286a.857.857 0 0 0 .857-.857v-4.286a.857.857 0 0 0-.857-.857Z"),$(e,a)},m(r,o){v(r,e,o),A(e,t),s||(n=[y(e,"click",i[9]),y(e,"keydown",i[10]),y(e,"keyup",i[11]),y(e,"focus",i[12]),y(e,"blur",i[13]),y(e,"mouseenter",i[14]),y(e,"mouseleave",i[15]),y(e,"mouseover",i[16]),y(e,"mouseout",i[17])],s=!0)},p(r,[o]){o&4&&m(t,"stroke-linecap",r[2]),o&8&&m(t,"stroke-linejoin",r[3]),o&16&&m(t,"stroke-width",r[4]),$(e,a=ue(u,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},o&128&&r[7],o&257&&l!==(l=ee("shrink-0",r[6][r[0]],r[8].class))&&{class:l},o&2&&{role:r[1]},o&32&&{"aria-label":r[5]},{viewBox:"0 0 18 18"}]))},i:I,o:I,d(r){r&&_(e),s=!1,ce(n)}}}function $e(i,e,t){const l=["size","role","strokeLinecap","strokeLinejoin","strokeWidth","ariaLabel"];let s=F(e,l),{size:n="md"}=e,{role:u="img"}=e;const a={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{strokeLinecap:r="round"}=e,{strokeLinejoin:o="round"}=e,{strokeWidth:c="2"}=e,{ariaLabel:d="grid outline"}=e;function p(f){g.call(this,i,f)}function V(f){g.call(this,i,f)}function O(f){g.call(this,i,f)}function P(f){g.call(this,i,f)}function S(f){g.call(this,i,f)}function N(f){g.call(this,i,f)}function k(f){g.call(this,i,f)}function C(f){g.call(this,i,f)}function h(f){g.call(this,i,f)}return i.$$set=f=>{t(8,e=R(R({},e),J(f))),t(7,s=F(e,l)),"size"in f&&t(0,n=f.size),"role"in f&&t(1,u=f.role),"strokeLinecap"in f&&t(2,r=f.strokeLinecap),"strokeLinejoin"in f&&t(3,o=f.strokeLinejoin),"strokeWidth"in f&&t(4,c=f.strokeWidth),"ariaLabel"in f&&t(5,d=f.ariaLabel)},e=J(e),[n,u,r,o,c,d,a,s,e,p,V,O,P,S,N,k,C,h]}class et extends X{constructor(e){super(),x(this,e,$e,xe,K,{size:0,role:1,strokeLinecap:2,strokeLinejoin:3,strokeWidth:4,ariaLabel:5})}}function tt(i){let e,t,l,s,n,u=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},i[6],{class:l=ee("shrink-0",i[5][i[0]],i[7].class)},{role:i[1]},{"aria-label":i[4]},{viewBox:"0 0 17 10"}],a={};for(let r=0;r<u.length;r+=1)a=R(a,u[r]);return{c(){e=Q("svg"),t=Q("path"),this.h()},l(r){e=Y(r,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var o=j(e);t=Y(o,"path",{stroke:!0,"stroke-linecap":!0,"stroke-width":!0,d:!0}),j(t).forEach(_),o.forEach(_),this.h()},h(){m(t,"stroke","currentColor"),m(t,"stroke-linecap",i[2]),m(t,"stroke-width",i[3]),m(t,"d","M6 1h10M6 5h10M6 9h10M1.49 1h.01m-.01 4h.01m-.01 4h.01"),$(e,a)},m(r,o){v(r,e,o),A(e,t),s||(n=[y(e,"click",i[8]),y(e,"keydown",i[9]),y(e,"keyup",i[10]),y(e,"focus",i[11]),y(e,"blur",i[12]),y(e,"mouseenter",i[13]),y(e,"mouseleave",i[14]),y(e,"mouseover",i[15]),y(e,"mouseout",i[16])],s=!0)},p(r,[o]){o&4&&m(t,"stroke-linecap",r[2]),o&8&&m(t,"stroke-width",r[3]),$(e,a=ue(u,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},o&64&&r[6],o&129&&l!==(l=ee("shrink-0",r[5][r[0]],r[7].class))&&{class:l},o&2&&{role:r[1]},o&16&&{"aria-label":r[4]},{viewBox:"0 0 17 10"}]))},i:I,o:I,d(r){r&&_(e),s=!1,ce(n)}}}function lt(i,e,t){const l=["size","role","strokeLinecap","strokeWidth","ariaLabel"];let s=F(e,l),{size:n="md"}=e,{role:u="img"}=e;const a={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{strokeLinecap:r="round"}=e,{strokeWidth:o="2"}=e,{ariaLabel:c="list outline"}=e;function d(h){g.call(this,i,h)}function p(h){g.call(this,i,h)}function V(h){g.call(this,i,h)}function O(h){g.call(this,i,h)}function P(h){g.call(this,i,h)}function S(h){g.call(this,i,h)}function N(h){g.call(this,i,h)}function k(h){g.call(this,i,h)}function C(h){g.call(this,i,h)}return i.$$set=h=>{t(7,e=R(R({},e),J(h))),t(6,s=F(e,l)),"size"in h&&t(0,n=h.size),"role"in h&&t(1,u=h.role),"strokeLinecap"in h&&t(2,r=h.strokeLinecap),"strokeWidth"in h&&t(3,o=h.strokeWidth),"ariaLabel"in h&&t(4,c=h.ariaLabel)},e=J(e),[n,u,r,o,c,a,s,e,d,p,V,O,P,S,N,k,C]}class rt extends X{constructor(e){super(),x(this,e,lt,tt,K,{size:0,role:1,strokeLinecap:2,strokeWidth:3,ariaLabel:4})}}function it(i){let e,t,l,s,n,u=[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},i[7],{class:l=ee("shrink-0",i[6][i[0]],i[8].class)},{role:i[1]},{"aria-label":i[5]},{viewBox:"0 0 14 20"}],a={};for(let r=0;r<u.length;r+=1)a=R(a,u[r]);return{c(){e=Q("svg"),t=Q("path"),this.h()},l(r){e=Y(r,"svg",{xmlns:!0,fill:!0,class:!0,role:!0,"aria-label":!0,viewBox:!0});var o=j(e);t=Y(o,"path",{stroke:!0,"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),j(t).forEach(_),o.forEach(_),this.h()},h(){m(t,"stroke","currentColor"),m(t,"stroke-linecap",i[2]),m(t,"stroke-linejoin",i[3]),m(t,"stroke-width",i[4]),m(t,"d","M4 8.693v9.477m0 0 3-2.843M4 18.17l-3-2.843m9-4.739V1.111m0 0L7 3.954m3-2.843 3 2.843"),$(e,a)},m(r,o){v(r,e,o),A(e,t),s||(n=[y(e,"click",i[9]),y(e,"keydown",i[10]),y(e,"keyup",i[11]),y(e,"focus",i[12]),y(e,"blur",i[13]),y(e,"mouseenter",i[14]),y(e,"mouseleave",i[15]),y(e,"mouseover",i[16]),y(e,"mouseout",i[17])],s=!0)},p(r,[o]){o&4&&m(t,"stroke-linecap",r[2]),o&8&&m(t,"stroke-linejoin",r[3]),o&16&&m(t,"stroke-width",r[4]),$(e,a=ue(u,[{xmlns:"http://www.w3.org/2000/svg"},{fill:"none"},o&128&&r[7],o&257&&l!==(l=ee("shrink-0",r[6][r[0]],r[8].class))&&{class:l},o&2&&{role:r[1]},o&32&&{"aria-label":r[5]},{viewBox:"0 0 14 20"}]))},i:I,o:I,d(r){r&&_(e),s=!1,ce(n)}}}function st(i,e,t){const l=["size","role","strokeLinecap","strokeLinejoin","strokeWidth","ariaLabel"];let s=F(e,l),{size:n="md"}=e,{role:u="img"}=e;const a={xs:"w-3 h-3",sm:"w-4 h-4",md:"w-5 h-5",lg:"w-6 h-6",xl:"w-8 h-8"};let{strokeLinecap:r="round"}=e,{strokeLinejoin:o="round"}=e,{strokeWidth:c="2"}=e,{ariaLabel:d="sort outline"}=e;function p(f){g.call(this,i,f)}function V(f){g.call(this,i,f)}function O(f){g.call(this,i,f)}function P(f){g.call(this,i,f)}function S(f){g.call(this,i,f)}function N(f){g.call(this,i,f)}function k(f){g.call(this,i,f)}function C(f){g.call(this,i,f)}function h(f){g.call(this,i,f)}return i.$$set=f=>{t(8,e=R(R({},e),J(f))),t(7,s=F(e,l)),"size"in f&&t(0,n=f.size),"role"in f&&t(1,u=f.role),"strokeLinecap"in f&&t(2,r=f.strokeLinecap),"strokeLinejoin"in f&&t(3,o=f.strokeLinejoin),"strokeWidth"in f&&t(4,c=f.strokeWidth),"ariaLabel"in f&&t(5,d=f.ariaLabel)},e=J(e),[n,u,r,o,c,d,a,s,e,p,V,O,P,S,N,k,C,h]}class nt extends X{constructor(e){super(),x(this,e,st,it,K,{size:0,role:1,strokeLinecap:2,strokeLinejoin:3,strokeWidth:4,ariaLabel:5})}}function me(i){let e,t,l,s,n=i[2].series_title+"",u,a=i[2].thumbnail&&de(i);return{c(){e=E("a"),t=E("div"),a&&a.c(),l=G(),s=E("p"),u=te(n),this.h()},l(r){e=M(r,"A",{href:!0});var o=j(e);t=M(o,"DIV",{class:!0});var c=j(t);a&&a.l(c),l=q(c),s=M(c,"P",{class:!0});var d=j(s);u=le(d,n),d.forEach(_),c.forEach(_),o.forEach(_),this.h()},h(){m(s,"class","font-semibold sm:w-[250px] line-clamp-1"),m(t,"class","flex flex-col gap-[5px] text-center items-center bg-slate-900 pb-1 bg-opacity-50 border border-slate-950"),ne(t,"text-green-400",i[1]),m(e,"href",i[0])},m(r,o){v(r,e,o),A(e,t),a&&a.m(t,null),A(t,l),A(t,s),A(s,u)},p(r,o){r[2].thumbnail?a?a.p(r,o):(a=de(r),a.c(),a.m(t,l)):a&&(a.d(1),a=null),o&4&&n!==(n=r[2].series_title+"")&&Ce(u,n),o&2&&ne(t,"text-green-400",r[1]),o&1&&m(e,"href",r[0])},d(r){r&&_(e),a&&a.d()}}}function de(i){let e,t;return{c(){e=E("img"),this.h()},l(l){e=M(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){oe(e.src,t=URL.createObjectURL(i[2].thumbnail))||m(e,"src",t),m(e,"alt","img"),m(e,"class","object-contain sm:w-[250px] sm:h-[350px] bg-black border-gray-900 border")},m(l,s){v(l,e,s)},p(l,s){s&4&&!oe(e.src,t=URL.createObjectURL(l[2].thumbnail))&&m(e,"src",t)},d(l){l&&_(e)}}}function ot(i){let e,t=i[2]&&me(i);return{c(){t&&t.c(),e=z()},l(l){t&&t.l(l),e=z()},m(l,s){t&&t.m(l,s),v(l,e,s)},p(l,[s]){l[2]?t?t.p(l,s):(t=me(l),t.c(),t.m(e.parentNode,e)):t&&(t.d(1),t=null)},i:I,o:I,d(l){l&&_(e),t&&t.d(l)}}}function at(i,e,t){let l,s,n,u,a,r;H(i,Ee,c=>t(5,a=c)),H(i,Me,c=>t(6,r=c));let{series_uuid:o}=e;return i.$$set=c=>{"series_uuid"in c&&t(0,o=c.series_uuid)},i.$$.update=()=>{i.$$.dirty&97&&t(3,l=Object.values(a).sort((c,d)=>c.volume_title.localeCompare(d.volume_title)).find(c=>c.series_uuid===o&&((r==null?void 0:r[c.volume_uuid||0])||1)<c.page_count-1)),i.$$.dirty&33&&t(4,s=Object.values(a).sort((c,d)=>c.volume_title.localeCompare(d.volume_title)).find(c=>c.series_uuid===o)),i.$$.dirty&24&&t(2,n=l??s),i.$$.dirty&8&&t(1,u=!l)},[o,u,n,l,s,a,r]}class ut extends X{constructor(e){super(),x(this,e,at,ot,K,{series_uuid:0})}}function ge(i){let e,t,l;return t=new Oe({props:{$$slots:{default:[ct]},$$scope:{ctx:i}}}),{c(){e=E("div"),U(t.$$.fragment)},l(s){e=M(s,"DIV",{});var n=j(e);W(t.$$.fragment,n),n.forEach(_)},m(s,n){v(s,e,n),D(t,e,null),l=!0},p(s,n){const u={};n&135&&(u.$$scope={dirty:n,ctx:s}),t.$set(u)},i(s){l||(L(t.$$.fragment,s),l=!0)},o(s){w(t.$$.fragment,s),l=!1},d(s){s&&_(e),B(t)}}}function ke(i){let e,t;return{c(){e=E("img"),this.h()},l(l){e=M(l,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){oe(e.src,t=URL.createObjectURL(i[2].thumbnail))||m(e,"src",t),m(e,"alt","img"),m(e,"class","object-contain w-[50px] h-[70px] bg-black border-gray-900 border")},m(l,s){v(l,e,s)},p(l,s){s&4&&!oe(e.src,t=URL.createObjectURL(l[2].thumbnail))&&m(e,"src",t)},d(l){l&&_(e)}}}function ct(i){let e,t,l,s=i[2].series_title+"",n,u,a=i[2].thumbnail&&ke(i);return{c(){e=E("a"),t=E("div"),l=E("p"),n=te(s),u=G(),a&&a.c(),this.h()},l(r){e=M(r,"A",{href:!0,class:!0});var o=j(e);t=M(o,"DIV",{class:!0});var c=j(t);l=M(c,"P",{class:!0});var d=j(l);n=le(d,s),d.forEach(_),u=q(c),a&&a.l(c),c.forEach(_),o.forEach(_),this.h()},h(){m(l,"class","font-semibold"),ne(l,"text-green-400",i[1]),m(t,"class","flex justify-between items-center"),m(e,"href",i[0]),m(e,"class","h-full w-full")},m(r,o){v(r,e,o),A(e,t),A(t,l),A(l,n),A(t,u),a&&a.m(t,null)},p(r,o){o&4&&s!==(s=r[2].series_title+"")&&Ce(n,s),o&2&&ne(l,"text-green-400",r[1]),r[2].thumbnail?a?a.p(r,o):(a=ke(r),a.c(),a.m(t,null)):a&&(a.d(1),a=null),o&1&&m(e,"href",r[0])},d(r){r&&_(e),a&&a.d()}}}function ft(i){let e,t,l=i[2]&&ge(i);return{c(){l&&l.c(),e=z()},l(s){l&&l.l(s),e=z()},m(s,n){l&&l.m(s,n),v(s,e,n),t=!0},p(s,[n]){s[2]?l?(l.p(s,n),n&4&&L(l,1)):(l=ge(s),l.c(),L(l,1),l.m(e.parentNode,e)):l&&(Z(),w(l,1,1,()=>{l=null}),T())},i(s){t||(L(l),t=!0)},o(s){w(l),t=!1},d(s){s&&_(e),l&&l.d(s)}}}function _t(i,e,t){let l,s,n,u,a,r;H(i,Ee,c=>t(5,a=c)),H(i,Me,c=>t(6,r=c));let{series_uuid:o}=e;return i.$$set=c=>{"series_uuid"in c&&t(0,o=c.series_uuid)},i.$$.update=()=>{i.$$.dirty&97&&t(3,l=Object.values(a).sort((c,d)=>c.volume_title.localeCompare(d.volume_title)).find(c=>c.series_uuid===o&&((r==null?void 0:r[c.volume_uuid||0])||1)<c.page_count-1)),i.$$.dirty&33&&t(4,s=Object.values(a).sort((c,d)=>c.volume_title.localeCompare(d.volume_title)).find(c=>c.series_uuid===o)),i.$$.dirty&24&&t(2,n=l??s),i.$$.dirty&8&&t(1,u=!l)},[o,u,n,l,s,a,r]}class ht extends X{constructor(e){super(),x(this,e,_t,ft,K,{series_uuid:0})}}function be(i,e,t){const l=i.slice();return l[9]=e[t].series_uuid,l}function ve(i,e,t){const l=i.slice();return l[9]=e[t].series_uuid,l}function mt(i){let e,t;return e=new Fe({props:{$$slots:{default:[gt]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){D(e,l,s),t=!0},p(l,s){const n={};s&16384&&(n.$$scope={dirty:s,ctx:l}),e.$set(n)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function dt(i){let e,t,l,s;const n=[bt,kt],u=[];function a(r,o){return r[2].length>0?0:1}return e=a(i),t=u[e]=n[e](i),{c(){t.c(),l=z()},l(r){t.l(r),l=z()},m(r,o){u[e].m(r,o),v(r,l,o),s=!0},p(r,o){let c=e;e=a(r),e===c?u[e].p(r,o):(Z(),w(u[c],1,1,()=>{u[c]=null}),T(),t=u[e],t?t.p(r,o):(t=u[e]=n[e](r),t.c()),L(t,1),t.m(l.parentNode,l))},i(r){s||(L(t),s=!0)},o(r){w(t),s=!1},d(r){r&&_(l),u[e].d(r)}}}function gt(i){let e;return{c(){e=te("Fetching catalog...")},l(t){e=le(t,"Fetching catalog...")},m(t,l){v(t,e,l)},d(t){t&&_(e)}}}function kt(i){let e;function t(n,u){return n[4]?pt:vt}let l=t(i),s=l(i);return{c(){e=E("div"),s.c(),this.h()},l(n){e=M(n,"DIV",{class:!0});var u=j(e);s.l(u),u.forEach(_),this.h()},h(){m(e,"class","text-center p-20")},m(n,u){v(n,e,u),s.m(e,null)},p(n,u){l!==(l=t(n))&&(s.d(1),s=l(n),s&&(s.c(),s.m(e,null)))},i:I,o:I,d(n){n&&_(e),s.d()}}}function bt(i){let e,t,l,s,n,u,a,r,o,c,d,p;function V(k){i[8](k)}let O={};i[0]!==void 0&&(O.value=i[0]),l=new Xe({props:O}),we.push(()=>je(l,"value",V)),u=new _e({props:{size:"sm",color:"alternative",$$slots:{default:[yt]},$$scope:{ctx:i}}}),u.$on("click",i[5]),r=new _e({props:{size:"sm",color:"alternative",$$slots:{default:[St]},$$scope:{ctx:i}}}),r.$on("click",i[6]);const P=[Mt,Et],S=[];function N(k,C){return k[0]&&k[3].length===0?0:1}return c=N(i),d=S[c]=P[c](i),{c(){e=E("div"),t=E("div"),U(l.$$.fragment),n=G(),U(u.$$.fragment),a=G(),U(r.$$.fragment),o=G(),d.c(),this.h()},l(k){e=M(k,"DIV",{class:!0});var C=j(e);t=M(C,"DIV",{class:!0});var h=j(t);W(l.$$.fragment,h),n=q(h),W(u.$$.fragment,h),a=q(h),W(r.$$.fragment,h),h.forEach(_),o=q(C),d.l(C),C.forEach(_),this.h()},h(){m(t,"class","flex gap-1 py-2"),m(e,"class","flex flex-col gap-5")},m(k,C){v(k,e,C),A(e,t),D(l,t,null),A(t,n),D(u,t,null),A(t,a),D(r,t,null),A(e,o),S[c].m(e,null),p=!0},p(k,C){const h={};!s&&C&1&&(s=!0,h.value=k[0],ye(()=>s=!1)),l.$set(h);const f={};C&16386&&(f.$$scope={dirty:C,ctx:k}),u.$set(f);const se={};C&16386&&(se.$$scope={dirty:C,ctx:k}),r.$set(se);let re=c;c=N(k),c===re?S[c].p(k,C):(Z(),w(S[re],1,1,()=>{S[re]=null}),T(),d=S[c],d?d.p(k,C):(d=S[c]=P[c](k),d.c()),L(d,1),d.m(e,null))},i(k){p||(L(l.$$.fragment,k),L(u.$$.fragment,k),L(r.$$.fragment,k),L(d),p=!0)},o(k){w(l.$$.fragment,k),w(u.$$.fragment,k),w(r.$$.fragment,k),w(d),p=!1},d(k){k&&_(e),B(l),B(u),B(r),S[c].d()}}}function vt(i){let e,t="Your catalog is currently empty.";return{c(){e=E("p"),e.textContent=t},l(l){e=M(l,"P",{"data-svelte-h":!0}),fe(e)!=="svelte-z4oj1"&&(e.textContent=t)},m(l,s){v(l,e,s)},d(l){l&&_(e)}}}function pt(i){let e,t="Upgrading and optimizing manga catalog... Please wait.";return{c(){e=E("p"),e.textContent=t},l(l){e=M(l,"P",{"data-svelte-h":!0}),fe(e)!=="svelte-19c2omk"&&(e.textContent=t)},m(l,s){v(l,e,s)},d(l){l&&_(e)}}}function Lt(i){let e,t;return e=new rt({}),{c(){U(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){D(e,l,s),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function wt(i){let e,t;return e=new et({}),{c(){U(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){D(e,l,s),t=!0},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function yt(i){let e,t,l,s;const n=[wt,Lt],u=[];function a(r,o){return r[1].galleryLayout==="list"?0:1}return e=a(i),t=u[e]=n[e](i),{c(){t.c(),l=z()},l(r){t.l(r),l=z()},m(r,o){u[e].m(r,o),v(r,l,o),s=!0},p(r,o){let c=e;e=a(r),e!==c&&(Z(),w(u[c],1,1,()=>{u[c]=null}),T(),t=u[e],t||(t=u[e]=n[e](r),t.c()),L(t,1),t.m(l.parentNode,l))},i(r){s||(L(t),s=!0)},o(r){w(t),s=!1},d(r){r&&_(l),u[e].d(r)}}}function Ct(i){let e;return{c(){e=te("Smart")},l(t){e=le(t,"Smart")},m(t,l){v(t,e,l)},d(t){t&&_(e)}}}function jt(i){let e;return{c(){e=te("Z-A")},l(t){e=le(t,"Z-A")},m(t,l){v(t,e,l)},d(t){t&&_(e)}}}function zt(i){let e;return{c(){e=te("A-Z")},l(t){e=le(t,"A-Z")},m(t,l){v(t,e,l)},d(t){t&&_(e)}}}function St(i){let e,t,l,s;e=new nt({});function n(r,o){return r[1].gallerySorting==="ASC"?zt:r[1].gallerySorting==="DESC"?jt:Ct}let u=n(i),a=u(i);return{c(){U(e.$$.fragment),t=G(),l=E("span"),a.c(),this.h()},l(r){W(e.$$.fragment,r),t=q(r),l=M(r,"SPAN",{class:!0});var o=j(l);a.l(o),o.forEach(_),this.h()},h(){m(l,"class","ml-1 text-xs")},m(r,o){D(e,r,o),v(r,t,o),v(r,l,o),a.m(l,null),s=!0},p(r,o){u!==(u=n(r))&&(a.d(1),a=u(r),a&&(a.c(),a.m(l,null)))},i(r){s||(L(e.$$.fragment,r),s=!0)},o(r){w(e.$$.fragment,r),s=!1},d(r){r&&(_(t),_(l)),B(e,r),a.d()}}}function Et(i){let e,t,l,s;const n=[Vt,At],u=[];function a(r,o){return r[1].galleryLayout==="grid"?0:1}return t=a(i),l=u[t]=n[t](i),{c(){e=E("div"),l.c(),this.h()},l(r){e=M(r,"DIV",{class:!0});var o=j(e);l.l(o),o.forEach(_),this.h()},h(){m(e,"class","flex sm:flex-row flex-col gap-5 flex-wrap justify-center sm:justify-start")},m(r,o){v(r,e,o),u[t].m(e,null),s=!0},p(r,o){let c=t;t=a(r),t===c?u[t].p(r,o):(Z(),w(u[c],1,1,()=>{u[c]=null}),T(),l=u[t],l?l.p(r,o):(l=u[t]=n[t](r),l.c()),L(l,1),l.m(e,null))},i(r){s||(L(l),s=!0)},o(r){w(l),s=!1},d(r){r&&_(e),u[t].d()}}}function Mt(i){let e,t="<p>No results found.</p>";return{c(){e=E("div"),e.innerHTML=t,this.h()},l(l){e=M(l,"DIV",{class:!0,"data-svelte-h":!0}),fe(e)!=="svelte-11xng1f"&&(e.innerHTML=t),this.h()},h(){m(e,"class","text-center p-20")},m(l,s){v(l,e,s)},p:I,i:I,o:I,d(l){l&&_(e)}}}function At(i){let e,t;return e=new Pe({props:{active:!0,class:"w-full",$$slots:{default:[It]},$$scope:{ctx:i}}}),{c(){U(e.$$.fragment)},l(l){W(e.$$.fragment,l)},m(l,s){D(e,l,s),t=!0},p(l,s){const n={};s&16392&&(n.$$scope={dirty:s,ctx:l}),e.$set(n)},i(l){t||(L(e.$$.fragment,l),t=!0)},o(l){w(e.$$.fragment,l),t=!1},d(l){B(e,l)}}}function Vt(i){let e=[],t=new Map,l,s,n=ae(i[3]);const u=a=>a[9];for(let a=0;a<n.length;a+=1){let r=ve(i,n,a),o=u(r);t.set(o,e[a]=Le(o,r))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=z()},l(a){for(let r=0;r<e.length;r+=1)e[r].l(a);l=z()},m(a,r){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(a,r);v(a,l,r),s=!0},p(a,r){r&8&&(n=ae(a[3]),Z(),e=ze(e,r,u,1,a,n,t,l.parentNode,Se,Le,l,ve),T())},i(a){if(!s){for(let r=0;r<n.length;r+=1)L(e[r]);s=!0}},o(a){for(let r=0;r<e.length;r+=1)w(e[r]);s=!1},d(a){a&&_(l);for(let r=0;r<e.length;r+=1)e[r].d(a)}}}function pe(i,e){let t,l,s;return l=new ht({props:{series_uuid:e[9]}}),{key:i,first:null,c(){t=z(),U(l.$$.fragment),this.h()},l(n){t=z(),W(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,u){v(n,t,u),D(l,n,u),s=!0},p(n,u){e=n;const a={};u&8&&(a.series_uuid=e[9]),l.$set(a)},i(n){s||(L(l.$$.fragment,n),s=!0)},o(n){w(l.$$.fragment,n),s=!1},d(n){n&&_(t),B(l,n)}}}function It(i){let e=[],t=new Map,l,s,n=ae(i[3]);const u=a=>a[9];for(let a=0;a<n.length;a+=1){let r=be(i,n,a),o=u(r);t.set(o,e[a]=pe(o,r))}return{c(){for(let a=0;a<e.length;a+=1)e[a].c();l=z()},l(a){for(let r=0;r<e.length;r+=1)e[r].l(a);l=z()},m(a,r){for(let o=0;o<e.length;o+=1)e[o]&&e[o].m(a,r);v(a,l,r),s=!0},p(a,r){r&8&&(n=ae(a[3]),Z(),e=ze(e,r,u,1,a,n,t,l.parentNode,Se,pe,l,be),T())},i(a){if(!s){for(let r=0;r<n.length;r+=1)L(e[r]);s=!0}},o(a){for(let r=0;r<e.length;r+=1)w(e[r]);s=!1},d(a){a&&_(l);for(let r=0;r<e.length;r+=1)e[r].d(a)}}}function Le(i,e){let t,l,s;return l=new ut({props:{series_uuid:e[9]}}),{key:i,first:null,c(){t=z(),U(l.$$.fragment),this.h()},l(n){t=z(),W(l.$$.fragment,n),this.h()},h(){this.first=t},m(n,u){v(n,t,u),D(l,n,u),s=!0},p(n,u){e=n;const a={};u&8&&(a.series_uuid=e[9]),l.$set(a)},i(n){s||(L(l.$$.fragment,n),s=!0)},o(n){w(l.$$.fragment,n),s=!1},d(n){n&&_(t),B(l,n)}}}function Ut(i){let e,t,l,s;const n=[dt,mt],u=[];function a(r,o){return r[2]?0:1}return e=a(i),t=u[e]=n[e](i),{c(){t.c(),l=z()},l(r){t.l(r),l=z()},m(r,o){u[e].m(r,o),v(r,l,o),s=!0},p(r,[o]){let c=e;e=a(r),e===c?u[e].p(r,o):(Z(),w(u[c],1,1,()=>{u[c]=null}),T(),t=u[e],t?t.p(r,o):(t=u[e]=n[e](r),t.c()),L(t,1),t.m(l.parentNode,l))},i(r){s||(L(t),s=!0)},o(r){w(t),s=!1},d(r){r&&_(l),u[e].d(r)}}}function Wt(i,e,t){let l,s,n,u,a;H(i,Ne,p=>t(1,s=p)),H(i,Re,p=>t(7,n=p)),H(i,Ze,p=>t(2,u=p)),H(i,He,p=>t(4,a=p));let r="";function o(){s.galleryLayout==="list"?ie("galleryLayout","grid"):ie("galleryLayout","list")}function c(){s.gallerySorting==="SMART"?ie("gallerySorting","ASC"):s.gallerySorting==="ASC"?ie("gallerySorting","DESC"):ie("gallerySorting","SMART")}function d(p){r=p,t(0,r)}return i.$$.update=()=>{i.$$.dirty&135&&t(3,l=u.sort((p,V)=>{if(s.gallerySorting==="ASC")return p.title.localeCompare(V.title,void 0,{numeric:!0,sensitivity:"base"});if(s.gallerySorting==="DESC")return V.title.localeCompare(p.title,void 0,{numeric:!0,sensitivity:"base"});{const O=p.volumes.map(h=>h.volume_uuid),P=V.volumes.map(h=>h.volume_uuid),S=O.every(h=>{var f;return(f=n[h])==null?void 0:f.completed}),N=P.every(h=>{var f;return(f=n[h])==null?void 0:f.completed});if(S!==N)return S?1:-1;const k=Math.max(...O.map(h=>{var f;return new Date(((f=n[h])==null?void 0:f.lastProgressUpdate)||0).getTime()})),C=Math.max(...P.map(h=>{var f;return new Date(((f=n[h])==null?void 0:f.lastProgressUpdate)||0).getTime()}));return k!==C?C-k:p.title.localeCompare(V.title,void 0,{numeric:!0,sensitivity:"base"})}}).filter(p=>p.title.toLowerCase().indexOf(r.toLowerCase())!==-1))},[r,s,u,l,a,o,c,n,d]}class Dt extends X{constructor(e){super(),x(this,e,Wt,Ut,K,{})}}function Bt(i){let e,t,l,s;return l=new Dt({}),{c(){e=G(),t=E("div"),U(l.$$.fragment),this.h()},l(n){Be("svelte-1nqbgkc",document.head).forEach(_),e=q(n),t=M(n,"DIV",{class:!0});var a=j(t);W(l.$$.fragment,a),a.forEach(_),this.h()},h(){document.title="Mokuro",m(t,"class","p-2 h-[90svh]")},m(n,u){v(n,e,u),v(n,t,u),D(l,t,null),s=!0},p:I,i(n){s||(L(l.$$.fragment,n),s=!0)},o(n){w(l.$$.fragment,n),s=!1},d(n){n&&(_(e),_(t)),B(l)}}}class Gt extends X{constructor(e){super(),x(this,e,null,Bt,K,{})}}export{Gt as component};
