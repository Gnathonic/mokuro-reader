import{w as p}from"./singletons.32ef462a.js";function t(){const i={processes:[]},{subscribe:d,update:n}=p(i);return{subscribe:d,addProcess:o=>{n(e=>{const s=e.processes.findIndex(r=>r.id===o.id);if(s>=0){const r=[...e.processes];return r[s]=o,{...e,processes:r}}else return{...e,processes:[...e.processes,o]}})},updateProcess:(o,e)=>{n(s=>{const r=s.processes.findIndex(c=>c.id===o);if(r>=0){const c=[...s.processes];return c[r]={...c[r],...e},{...s,processes:c}}return s})},removeProcess:o=>{n(e=>({...e,processes:e.processes.filter(s=>s.id!==o)}))},clearAll:()=>{n(()=>i)}}}const f=t();export{f as p};
